"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseIsoBaseMedia = void 0;
const mdat_1 = require("./mdat/mdat");
const process_box_1 = require("./process-box");
const parseIsoBaseMedia = async (state) => {
    const videoSectionState = state.videoSection.isInVideoSectionState(state.iterator);
    if (videoSectionState === 'in-section') {
        const skipTo = await (0, mdat_1.parseMdatSection)(state);
        return skipTo;
    }
    const result = await (0, process_box_1.processBox)(state);
    if (result) {
        state.getIsoStructure().boxes.push(result);
    }
    return null;
};
exports.parseIsoBaseMedia = parseIsoBaseMedia;
