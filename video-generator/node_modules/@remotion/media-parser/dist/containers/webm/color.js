"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseColorSegment = void 0;
const traversal_1 = require("./traversal");
const parseColorSegment = (colourSegment) => {
    const transferCharacteristics = (0, traversal_1.getTransferCharacteristicsSegment)(colourSegment);
    const matrixCoefficients = (0, traversal_1.getMatrixCoefficientsSegment)(colourSegment);
    const primaries = (0, traversal_1.getPrimariesSegment)(colourSegment);
    const range = (0, traversal_1.getRangeSegment)(colourSegment);
    return {
        transferCharacteristics: transferCharacteristics
            ? transferCharacteristics.value.value === 1
                ? 'bt709'
                : transferCharacteristics.value.value === 6
                    ? 'smpte170m'
                    : transferCharacteristics.value.value === 13
                        ? 'iec61966-2-1'
                        : null
            : null,
        matrixCoefficients: matrixCoefficients
            ? matrixCoefficients.value.value === 1
                ? 'bt709'
                : matrixCoefficients.value.value === 6
                    ? 'smpte170m'
                    : matrixCoefficients.value.value === 5
                        ? 'bt470bg'
                        : null
            : null,
        primaries: primaries
            ? primaries.value.value === 1
                ? 'bt709'
                : primaries.value.value === 6
                    ? 'smpte170m'
                    : primaries.value.value === 5
                        ? 'bt470bg'
                        : null
            : null,
        fullRange: (transferCharacteristics === null || transferCharacteristics === void 0 ? void 0 : transferCharacteristics.value.value) && (matrixCoefficients === null || matrixCoefficients === void 0 ? void 0 : matrixCoefficients.value.value)
            ? null
            : range
                ? Boolean(range === null || range === void 0 ? void 0 : range.value.value)
                : null,
    };
};
exports.parseColorSegment = parseColorSegment;
