"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.maySkipVideoData = void 0;
const need_samples_for_fields_1 = require("./need-samples-for-fields");
const maySkipVideoData = ({ state }) => {
    const hasAllTracksAndNoCallbacks = state.callbacks.tracks.hasAllTracks() &&
        Object.values(state.callbacks.videoSampleCallbacks).length === 0 &&
        Object.values(state.callbacks.audioSampleCallbacks).length === 0;
    const hasNoTrackHandlers = !state.callbacks.hasAudioTrackHandlers &&
        !state.callbacks.hasVideoTrackHandlers;
    const noCallbacksNeeded = hasNoTrackHandlers || hasAllTracksAndNoCallbacks;
    return (noCallbacksNeeded &&
        !(0, need_samples_for_fields_1.needsToIterateOverSamples)({
            emittedFields: state.emittedFields,
            fields: state.fields,
        }));
};
exports.maySkipVideoData = maySkipVideoData;
