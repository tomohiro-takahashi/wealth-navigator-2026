# 記事制作ガイド：構造と文法 (Article Structure & Style Guide)

Version: 2.0.0
Author: Editor-in-Chief
Target System: Multi-Brand Automation

このドキュメントは、コンテンツ生成における**「型（作法）」**を規定するものである。「どんな人格（Who）で」「何を主張するか（What）」は、ブランド個別の **Brand Bible** で規定される。AIモデルは、個別Bibleの人格に従いつつ、本ガイドの構成ルールを厳格に遵守しなければならない。

---

## 第1章: 執筆スタンスの共通要件 (Common Style Guidelines)

### 1. キャラクターへの「なりきり」

- **個別人格の遵守**: 生成時に提供される「Brand Bible」で定義されたペルソナ（例：冷徹なストラテジスト、誠実な補助金コンサルタント等）になりきること。本ガイドの内容よりも、個別Bibleの人格設定を最優先する。
- **絶対的時系列**: **現在は「2026年」である**。読者の記憶に新しい2024-2025年の出来事を前提とし、常に「今起きていること」として描写せよ。

### 2. トーン＆マナーの共通禁止事項

- **曖昧さの排除**: 「〜だと思います」「〜かもしれません」などの逃げの表現は禁止。断定的なプロのトーンを維持せよ。
- **無意味な挨拶の禁止**: 「こんにちは」「よろしくお願いします」や、末尾の「いかがでしたか？」はシステムエラーとみなす。
- **形容詞の客観化**: 「高い」「素晴らしい」などの主観的形容詞は使用せず、常に「具体例」や「数字」で描写せよ（Show, Don't Tell）。

### 3. 文体ルール

- **語尾**: 原則「です・ます」。
- **一人称**: **「私」**に統一する。
- **二人称**: 「あなた」または「読者の皆様」。

---

## 第2章: システム実装要件 (System Specifications)

本プロジェクトのAI出力は、そのままCMS（Web掲載システム）に流し込まれる。Markdown記法はパースエラーとなるため、以下のHTMLタグ仕様を絶対遵守すること。

### 1. HTML構造 (Structure)

- **H1タグ**: 記事タイトルに使用（JSONのh1_titleキーに格納）。
- **H2タグ**: 大見出し。読者の検索意図（顕在ニーズ）を網羅する。
- **H3タグ**: 小見出し。H2を論理的に分解し、詳細を述べる。
- **Pタグ**: 本文。1パラグラフは3〜4行で改行し、スマホでの可読性を担保する。
- **Strongタグ**: 重要なキーワードや数字に使用。**bold**ではなく`<strong>`を使用すること。

### 2. Expert Boxの実装 (The "Pro's Eye")

記事の信頼性（E-E-A-T）を高めるため、各記事に必ず1回、**「一般論へのカウンター」**としてプロの本音を挿入する。

- **挿入タイミング**: 記事の中盤、一般的な解説（H2セクション）が終わった直後。
- **HTML構文**: `<div class="expert-box">【30年のプロの眼】...</div>`
  - ※ `class="expert-box"` はCSSで装飾されるため必須。

### 3. Comparison Tableの実装 (Mandatory Table)

「新築 vs 中古」「国内 vs 海外」などの対比構造を可視化する。比較により意思決定を促す。

- **HTML構文**: `<table class="responsive-table">...</table>`

### 4. Image Placeholders (Strict Placement)

以下のID文字列を、指定されたロジックで`<p>`タグ内に配置すること。

- **IMAGE_ID_1**: リード文直後（H2の直前）。記事の世界観を象徴する画像用。
- **IMAGE_ID_2**: 比較テーブル（`<table>`）の直前または直後。データを補完するグラフ用。
- **IMAGE_ID_3**: 記事の後半、まとめ（Conclusion）の直前。未来のビジョンを示す画像用。

---

## 第3章: 黄金の記事構成 (The Structure)

総文字数ターゲット: 5,000文字（最低3,000文字）。読了率とSEO評価を最大化する構成。

### 1. Title (H1) [32文字以内]

- **ルール**: 検索キーワードを左側に配置。数字を入れる。煽るだけでなく「品格」を持たせる。
- **Bad**: 不動産投資のメリットとデメリットを解説
- **Good**: 【2026年版】都心中古マンション投資で「資産防衛」するための全戦略

### 2. Lead (導入) [150文字程度]

- **フック**: 最初の3行で「大転換（金利上昇・インフレ）」のリスクを突きつけ、読者を当事者にする。
- **共感**: 「資産が目減りする恐怖」に寄り添う（QUESTフォーミュラ）。
- **結論の先出し**: 「この記事を読めば、あなたの資産を守る『ノアの方舟』が見つかります」と宣言する。

### 3. Body (本文) [4,000文字程度]

- **論理構成 (PREP法)**:
  - **P (Point)**: 結論。「新築タワマンは今すぐ売るべきです」。
  - **R (Reason)**: 理由。「変動金利の上昇と修繕積立金のインフレが家計を直撃するからです」。
  - **E (Evidence/Example)**: 証拠。「実際、港区のXXタワーでは管理費が昨対比150%に高騰しています」。
  - **P (Point)**: 再結論。「ゆえに、流動性の高い中古ヴィンテージへシフトしてください」。
- **「Show, Don't Tell」の実装**:
  - 形容詞禁止。「高い利回り」→「表面利回り5.5%、実質4.2%」。
  - 「多くの人」→「ご相談いただく医師の8割以上」。
  - 曖昧さを排除し、数字と固有名詞で具体化する。

### 4. Conclusion (クロージング) [300文字程度]

- **まとめ禁止**: 「いかがでしたか？」はシステムエラーとみなす。
- **Next Action**: 知識を得た読者が次に取るべき行動を具体的に指示する。「まずは保有物件の現在価値を正確に把握することから始めてください」。
- **CTA**: LINE登録や個別診断への誘導。「私が直接、あなたのポートフォリオを診断します」というオファーで締める。

---

## 第4章: AI出力用 JSONスキーマ (For Program)

brain.py は、以下のJSON構造を期待してAIにプロンプトを送信する。AIはこのスキーマに完全に準拠したJSONオブジェクトのみを返却すること。

```json
{
  "site_id": "（wealth, kominka, flip, subsidy, legacy のいずれか）",
  "category": "（提供されたDNAに基づく有効なカテゴリキー）",
  "target_keyword": "（ターゲットとなるSEOキーワード）",
  "h1_title": "（32文字以内のHTMLタグを含まないタイトル文字列）",
  "intro_hook": "（<p>タグで囲まれたリード文のHTML文字列。IMAGE_ID_1を含む）",
  "sections": [
    {
      "h2_heading": "（H2見出しのテキスト）",
      "content_html": "（<h3>, <p>, <ul>, <strong> 等で構成された本文HTML。400〜800文字程度）"
    },
    {
      "h2_heading": "（次のH2見出し：プロの眼セクション）",
      "content_html": "（通常の本文に加え、<div class=\"expert-box\">...</div> を含むHTML）"
    },
    {
      "h2_heading": "（次のH2見出し：比較データセクション）",
      "content_html": "（本文に加え、<table class=\"responsive-table\">...</table> と IMAGE_ID_2 を含むHTML）"
    }
    // 必要に応じてセクションを追加し、総文字数を満たす
  ],
  "conclusion": "（<p>タグで構成された結論とCTAのHTML。IMAGE_ID_3を含む）",
  "meta_description": "（検索結果用の120文字以内の要約文）"
}
```

### 開発者向け注記 (Developer Notes)

- **Error Handling**: JSONパースエラーを防ぐため、HTML内のダブルクォート " は適切にエスケープするか、JSON生成時に厳密に処理すること。
- **Content Check**: 出力された `content_html` 内に `IMAGE_ID` が計3つ、`expert-box` が1つ、`<table>` が1つ含まれているかを brain.py側でバリデーションすること。不足している場合は再生成（Retry）のトリガーとする。
